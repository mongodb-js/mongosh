{
  "name": "mongosh",
  "description": "The MongoDB Shell",
  "bin": {
    "mongosh": "packages/cli-repl/bin/mongosh.js"
  },
  "homepage": "https://github.com/mongodb-js/mongosh",
  "author": "Compass Team <compass@mongodb.com>",
  "scripts": {
    "bootstrap-with-chromium": "npm install && npm run compile",
    "bootstrap": "npx cross-env PUPPETEER_SKIP_DOWNLOAD=1 npm install && npm run compile",
    "clean": "npx lerna clean -y && rm -Rf node_modules",
    "check": "npx lerna run check --since HEAD --exclude-dependents",
    "check-ci": "npm run check --workspaces --if-present",
    "depalign": "depalign",
    "predepcheck": "npm run depalign",
    "depcheck": "knip",
    "depcheck-ci": "knip --production --strict",
    "lint": "npm run lint --workspaces --if-present",
    "test": "rimraf .nyc_output && npm run test-coverage --workspaces --if-present && npm run report-coverage",
    "test-ci": "rimraf .nyc_output && npm run test-ci-coverage --workspaces --if-present && npm run post-process-nyc",
    "test-ci-nocoverage": "npm run test-ci --workspaces --if-present",
    "test-e2e": "npm run test --workspace @mongosh/e2e-tests",
    "test-apistrict-ci": "npm run test-apistrict-ci --workspaces --if-present",
    "test-connectivity": "npm run test-connectivity --workspaces --if-present",
    "test-evergreen-expansions": "bash .evergreen/compilation-context-expansions.test.sh",
    "replace-package": "node scripts/replace-package.js",
    "test-nodedriver": "bash .evergreen/test-node-driver.sh",
    "pretest-smoke": "npm run compile-cli",
    "test-smoke": "npm run test-smoke -w @mongosh/cli-repl",
    "compile": "npm run compile --workspaces --if-present",
    "compile-cli": "npx lerna run compile --scope @mongosh/cli-repl --include-dependencies",
    "prestart-cli": "npm run compile-cli",
    "start-cli": "npm run start -w @mongosh/cli-repl",
    "start-browser": "npm run start --workspace @mongosh/browser-repl",
    "start": "npm run start-cli",
    "precompile-exec": "npm run compile-cli",
    "compile-exec": "npm run evergreen-release compile",
    "compile-all": "npm run compile-compass && npm run compile-exec",
    "evergreen-release": "cd packages/build && npm run evergreen-release --",
    "release": "cd packages/build && npm run release --",
    "update-cta": "cd packages/build && npm run update-cta --",
    "report-missing-help": "npm run report-missing-help --workspace @mongosh/shell-api",
    "report-supported-api": "npm run report-supported-api --workspace @mongosh/shell-api",
    "post-process-nyc": "ts-node scripts/nyc/post-process-nyc-output.ts",
    "pre-process-coverage": "ts-node scripts/nyc/pre-process-coverage.ts",
    "report-coverage": "nyc report --reporter=text --reporter=html",
    "report-coverage-ci": "npm run pre-process-coverage && nyc report --reporter=text --reporter=html",
    "check-coverage": "nyc check-coverage --lines=90",
    "generate-error-overview": "npm run generate-error-overview --workspace @mongosh/errors",
    "update-authors": "ts-node -P configs/tsconfig-mongosh/tsconfig.common.json scripts/generate-authors.ts",
    "create-dependency-sbom-lists": "npm run webpack-build -w packages/cli-repl && npm run write-node-js-dep && npm run create-purls-file && npm run create-first-party-dependency-lists",
    "create-first-party-dependency-lists": "mongodb-sbom-tools fetch-codeql-results --first-party-deps-list-dest=.sbom/first-party-deps.json --dependencies=.sbom/dependencies.json --exclude-repos=mongodb-js/kerberos,mongodb-client-encryption",
    "create-purls-file": "node scripts/create-purls.js .sbom/dependencies.json .sbom/node-js-dep.json > .sbom/purls.txt",
    "preupdate-third-party-notices": "npm run create-dependency-sbom-lists",
    "update-third-party-notices": "mongodb-sbom-tools generate-3rd-party-notices --product='mongosh' --dependencies=.sbom/dependencies.json > THIRD_PARTY_NOTICES.md",
    "update-node-js-versions": "npx @pkgjs/nv ls v20 > .evergreen/node-20-latest.json",
    "update-evergreen-config": "npm run test-evergreen-expansions && node .evergreen/generate-evergreen-yml.js .evergreen/evergreen.yml.in > .evergreen.yml",
    "update-cli-usage-text": "node scripts/update-cli-usage-text.js",
    "update-security-test-summary": "ts-node scripts/generate-security-test-summary.ts > docs/security-test-summary.md",
    "mark-ci-required-optional-dependencies": "ts-node scripts/mark-ci-required-optional-dependencies.ts",
    "write-node-js-dep": "node scripts/write-nodejs-dep > .sbom/node-js-dep.json",
    "scan-node-js": "mongodb-sbom-tools scan-node-js --version=$NODE_JS_VERSION > .sbom/node-js-vuln.json",
    "snyk-test": "node scripts/snyk-test.js",
    "pregenerate-vulnerability-report": "npm run create-dependency-sbom-lists && npm run snyk-test && npm run scan-node-js",
    "generate-vulnerability-report": "mongodb-sbom-tools generate-vulnerability-report --snyk-reports=.sbom/snyk-test-result.json,.sbom/node-js-vuln.json --dependencies=.sbom/dependencies.json,.sbom/node-js-dep.json --fail-on=high > .sbom/vulnerability-report.md",
    "create-vulnerability-tickets": "mongodb-sbom-tools generate-vulnerability-report --snyk-reports=.sbom/snyk-test-result.json,.sbom/node-js-vuln.json --dependencies=.sbom/dependencies.json,.sbom/node-js-dep.json --create-jira-issues",
    "create-static-analysis-report": "mongodb-sbom-tools fetch-codeql-results --sarif-dest=.sbom/codeql.sarif.json",
    "postcreate-static-analysis-report": "mongodb-sbom-tools sarif-to-markdown --sarif=.sbom/codeql.sarif.json --md=.sbom/codeql.md",
    "where": "monorepo-where",
    "reformat": "npm run reformat --workspaces --if-present",
    "prepare": "husky",
    "precommit": "precommit",
    "preinstall": "node scripts/sort-workspaces.js",
    "bump-auxiliary": "npm run bump-auxiliary --workspace @mongosh/build",
    "publish-auxiliary": "npm run publish-auxiliary --workspace @mongosh/build"
  },
  "config": {
    "unsafe-perm": true
  },
  "repository": {
    "type": "git",
    "url": "git://github.com/mongodb-js/mongosh.git"
  },
  "keywords": [
    "MongoDB",
    "Shell",
    "Node",
    "JS",
    "Compass",
    "Stitch"
  ],
  "license": "Apache-2.0",
  "publishConfig": {
    "access": "public"
  },
  "engines": {
    "node": ">=12.18.4"
  },
  "devDependencies": {
    "@mongodb-js/monorepo-tools": "^1.1.16",
    "@pkgjs/nv": "^0.2.2",
    "@types/chai": "^4.2.5",
    "@types/mocha": "^5.2.7",
    "@types/node": "^22.15.30",
    "@types/semver": "^7.3.4",
    "@types/sinon-chai": "^3.2.4",
    "chai": "^4.2.0",
    "cross-env": "^6.0.3",
    "glob": "^10.3.12",
    "husky": "^9.0.11",
    "knip": "^5.69.1",
    "mocha": "^10.2.0",
    "mongodb-runner": "^6.0.0",
    "nyc": "^15.1.0",
    "rimraf": "^3.0.2",
    "sinon": "^19.0.4",
    "sinon-chai": "^3.5.0",
    "terser-webpack-plugin": "^5.3.11",
    "ts-loader": "^8.0.14",
    "ts-node": "^10.9.2",
    "ts-sinon": "^1.2.0",
    "typescript": "^5.3.3",
    "webpack": "^5.99.9",
    "webpack-bundle-analyzer": "^4.7.0",
    "webpack-cli": "^6.0.1",
    "yaml": "^1.10.0",
    "lerna": "^8.1.8"
  },
  "workspaces": [
    "configs/eslint-config-mongosh",
    "configs/tsconfig-mongosh",
    "scripts/docker",
    "packages/async-rewriter2",
    "packages/build",
    "packages/errors",
    "packages/history",
    "packages/java-shell",
    "packages/js-multiline-to-singleline",
    "packages/types",
    "packages/i18n",
    "packages/logging",
    "packages/shell-bson",
    "testing",
    "packages/arg-parser",
    "packages/service-provider-core",
    "packages/e2e-tests",
    "packages/service-provider-node-driver",
    "packages/shell-api",
    "packages/autocomplete",
    "packages/shell-evaluator",
    "packages/snippet-manager",
    "packages/browser-runtime-core",
    "packages/editor",
    "packages/browser-runtime-electron",
    "packages/cli-repl",
    "packages/mongosh",
    "packages/node-runtime-worker-thread",
    "packages/browser-repl",
    "packages/connectivity-tests"
  ],
  "overrides": {
    "cookie": "^0.7.2"
  }
}
