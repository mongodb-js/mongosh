import Types from "lib/type-wrapper";
import { types } from "mongosh-shell-api";
import SymbolTable from "./symbol-table";
import compile from "./index";

if (require.main === module) {
  const shellTypes = new Types(types);
  const symbols = new SymbolTable({ db: types.Database });
  console.log(compile('x = function() {\n return db;\n}', shellTypes, symbols));
  symbols.print();
}
